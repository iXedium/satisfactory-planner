@use '../settings/colors' as c;
@use '../settings/zindex' as z;
@use '../utilities/spacing' as s;

.c-production-node {
  position: relative;
  margin: s.spacing(1) 0;

  // Node content
  &__content {
    position: relative;
    display: flex;
    align-items: stretch;
    border: 1px solid c.$color-border;
    background-color: c.$color-background-dark;
    overflow: hidden;
  }

  // Icon container
  &__icon-container {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    padding: s.spacing(2);
    background-color: c.$color-background-darker;
    border-right: 1px solid c.$color-border;

    .c-production-node--compact & {
      height: 32px;
      width: 32px;
    }

    .c-production-node--normal &,
    .c-production-node--detailed & {
      height: 64px;
      width: 64px;
    }
  }

  // Node details
  &__details {
    flex-grow: 1;
    padding: s.spacing(2);
    display: flex;
    flex-direction: column;
    gap: s.spacing(1);
  }

  // Recipe info
  &__recipe-info {
    display: flex;
    align-items: center;
    gap: s.spacing(2);
  }

  &__recipe-name {
    color: c.$color-text-primary;
    font-size: 14px;
    font-weight: 500;
  }

  &__recipe-time {
    color: c.$color-text-secondary;
    font-size: 12px;
  }

  // Consumption list
  &__consumption-list {
    display: flex;
    flex-direction: column;
    gap: s.spacing(1);
  }

  &__consumption-item {
    display: flex;
    align-items: center;
    gap: s.spacing(2);
    padding: s.spacing(1);
    cursor: pointer;
    transition: all 0.2s ease;
    border-radius: 4px;

    &:hover {
      background: c.$color-background-light;
      transform: translateX(2px);
    }

    &--storage {
      cursor: default;
      opacity: 0.8;

      &:hover {
        transform: none;
        background: none;
      }
    }
  }

  &__item-icon {
    flex-shrink: 0;
    width: 24px;
    height: 24px;
  }

  &__item-details {
    flex-grow: 1;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  &__item-name {
    color: c.$color-text-primary;
    font-size: 13px;
  }

  &__item-rate {
    color: c.$color-text-secondary;
    font-size: 12px;
    font-variant-numeric: tabular-nums;
  }

  // Rate type modifiers
  &--negative {
    .c-production-node__content {
      background-color: c.$color-background-darker;
    }
  }

  // Detail level modifiers
  &--compact {
    .c-production-node__icon-container {
      height: 32px;
      width: 32px;
    }

    .c-production-node__details {
      padding: s.spacing(1) s.spacing(2);
    }
  }

  &--normal,
  &--detailed {
    .c-production-node__icon-container {
      height: 64px;
      width: 64px;
    }
  }
}
